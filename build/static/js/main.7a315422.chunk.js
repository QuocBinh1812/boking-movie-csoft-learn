(this["webpackJsonpbooking-movie"]=this["webpackJsonpbooking-movie"]||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),o=n(10),i=n.n(o),r=(n(108),n.p,n(109),n(46)),s=n(33),l=n(91),h=n(90),u=n(34),j=n.n(u);var d=n(17),b=n(183),O=n(184),m=n(174),p=n(176),v=n(178),g=n(181),f=n(180),x=n(179),y=n(182),C=n(94),S=n(24),L=Object(m.a)({root:{maxWidth:345},media:{height:140}});function T(e){var t=L();return Object(a.jsxs)(p.a,{className:t.root,children:[Object(a.jsxs)(v.a,{children:[Object(a.jsx)(x.a,{className:t.media,image:e.movie.hinhAnh,title:"Contemplative Reptile"}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(C.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Lizard"}),Object(a.jsx)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"})]})]}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(y.a,{size:"small",color:"primary",children:"Share"}),Object(a.jsx)(y.a,{size:"small",color:"primary",children:Object(a.jsx)(S.b,{to:"/movie-detail/".concat(e.movie.maPhim),children:"Learn More"})})]})]})}var G=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderMovieList=function(){var t=e.props.movieList;return null===t||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(b.a,{item:!0,sm:3,children:Object(a.jsx)(T,{movie:e})},t)}))},e}return Object(s.a)(n,[{key:"render",value:function(){return this.props.isLoading?(console.log("Loading"),Object(a.jsx)(O.a,{})):(console.log("render"),Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{container:!0,children:this.renderMovieList()})}))}},{key:"componentDidMount",value:function(){this.props.dispatch((function(e){e({type:"START_LOADING"}),j.a.get("https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhim?maNhom=GP01").then((function(t){console.log(t),e({type:"GET_MOVIE_lIST_SUCCESS",payload:t.data}),setTimeout((function(){e({type:"STOP_LOADING"})}),4e3)})).catch((function(t){console.log(t),e(function(e){return{type:"GET_MOVIE_lIST_FAILED",payload:e}}(t)),e({type:"STOP_LOADING"})}))}))}}]),n}(c.Component),E=Object(d.b)((function(e){return{isLoading:e.common.isLoading,movieList:e.movie.movieList}}))(G),_=n(13),D=n(16),N=n(20),I=n(202),k=n(187),w=n(199),A=n(188),R=n(201),P=n(185),V=n(200),M=n(86),K=n.n(M),B=n(186);var F=n(14);function U(){return Object(a.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(P.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var H=Object(m.a)((function(e){return{colorRed:{color:"red"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function W(){var e=Object(F.g)(),t=H(),n=Object(d.c)(),o=Object(c.useState)({});console.log(o);var i=Object(N.a)(o,2),r=(i[0],i[1],Object(c.useState)({taiKhoan:"",matKhau:""})),s=Object(N.a)(r,2),l=s[0],h=s[1];function u(e){var t=e.target,n=t.name,a=t.value;h(Object(D.a)(Object(D.a)({},l),{},Object(_.a)({},n,a)))}return console.log("user : ",l),Object(a.jsxs)(B.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(k.a,{}),Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(I.a,{className:t.avatar,children:Object(a.jsx)(K.a,{})}),Object(a.jsx)(C.a,{component:"h1",variant:"h5",className:t.colorRed,children:"Sign in"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),console.log(l),n(function(e,t){return function(n){n({type:"START_LOADING"}),j.a.post("https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap",e).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e.data)),t.push("/home"),n({type:"STOP_LOADING"})})).catch((function(e){console.log(e),n({type:"STOP_LOADING"})}))}}(l,e))},children:[Object(a.jsx)(w.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"taiKhoan",label:"taiKhoan",name:"taiKhoan",autoComplete:"taiKhoan",autoFocus:!0,onChange:u}),Object(a.jsx)(w.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"matKhau",label:"matKhau",type:"password",id:"matKhau",autoComplete:"current-password",onChange:u}),Object(a.jsx)(A.a,{control:Object(a.jsx)(R.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(a.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(a.jsxs)(b.a,{container:!0,children:[Object(a.jsx)(b.a,{item:!0,xs:!0,children:Object(a.jsx)(P.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)(P.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(a.jsx)(V.a,{mt:8,children:Object(a.jsx)(U,{})})]})}var z=n(190),Q=n(191),J=n(192),q=n(193),X=n(194),Y=n(195),Z=n(61),$=n.n(Z),ee=Object(m.a)((function(e){return{btnBooking:{backgroundColor:e.palette.newColor,"&:hover":{backgroundColor:e.palette.newColor}}}})),te=function(){var e=ee(),t=Object(F.g)(),n=Object(d.d)((function(e){var t;return null===(t=e.movie.movieInfo)||void 0===t?void 0:t.lichChieu}));return console.log(n),Object(a.jsx)("div",{children:Object(a.jsx)(J.a,{children:Object(a.jsxs)(q.a,{children:[Object(a.jsx)(X.a,{children:Object(a.jsxs)(z.a,{children:[Object(a.jsx)(Q.a,{children:"T\xean H\u1ec7 Th\u1ed1ng R\u1ea1p"}),Object(a.jsx)(Q.a,{children:"T\xean C\u1ee5m R\u1ea1p"}),Object(a.jsx)(Q.a,{children:"Ng\xe0y Chi\u1ebfu"}),Object(a.jsx)(Q.a,{children:"Gi\u1edd chi\u1ebfu"}),Object(a.jsx)(Q.a,{children:"\u0110\u1eb7t V\xe9"})]})}),Object(a.jsx)(Y.a,{children:null===n||void 0===n?void 0:n.map((function(n,c){return Object(a.jsxs)(z.a,{children:[Object(a.jsx)(Q.a,{children:n.thongTinRap.tenHeThongRap}),Object(a.jsx)(Q.a,{children:n.thongTinRap.tenCumRap}),Object(a.jsx)(Q.a,{children:$()("dd-MM-yy",new Date(n.ngayChieuGioChieu))}),Object(a.jsx)(Q.a,{children:$()("hh:mm",new Date(n.ngayChieuGioChieu))}),Object(a.jsx)(Q.a,{children:Object(a.jsx)(y.a,{color:"primary",variant:"contained",className:e.btnBooking,onClick:function(){t.push("/booking/".concat(n.maLichChieu))},children:"\u0111\u1eb7t v\xe9"})})]},c)}))})]})})})},ne=function(){var e=Object(d.c)(),t=Object(c.useState)(0),n=Object(N.a)(t,2),o=n[0],i=n[1],r=Object(F.h)().movieCode;return Object(c.useEffect)((function(){return console.log("useEffect"),function(){}})),Object(c.useEffect)((function(){return console.log("useEffect ch\u1ea1y m\u1ed9t l\u1ea7n duy nh\u1ea5t"),e(function(e){return function(t){j.a.get("https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(e)).then((function(e){console.log(e),t({type:"GET_MOVIE_DETAIL_SUCCESS",payload:e.data})})).catch((function(e){console.log(e),t({type:"GET_MOVIE_DETAIL_FAILED",payload:e})}))}}(r)),function(){}}),[]),Object(c.useEffect)((function(){return console.log("useEffect ch\u1ea1y khi star thay \u0111\u1ed5i"),function(){}}),[o]),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:o}),Object(a.jsx)("button",{onClick:function(){i(o+1)},children:"t\u0103ng sao"}),Object(a.jsx)(te,{})]})},ae=n(44),ce=n.n(ae),oe=n(62);function ie(e){return{type:"GET_BOOKING_SUCCESS",payload:e}}var re=Object(m.a)((function(){return{chuaDat:{backgroundColor:"red","&:hover":{backgroundColor:"red"}},daDat:{backgroundColor:"blue","&:hover":{backgroundColor:"blue"}},dangChon:{backgroundColor:"yellow","&:hover":{backgroundColor:"yellow"}}}})),se=function(){var e=Object(F.h)().maLichChieu,t=Object(d.c)(),n=re(),o=Object(d.d)((function(e){return e.booking.danhSachGhe}));return console.log("danhSachGhe: ",o),Object(c.useEffect)((function(){t(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=".concat(e));case 3:a=t.sent,console.log("res :",a),200!==a.status&&201!==a.status||n(ie(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),n({type:"GET_BOOKING_Failed",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"booking"}),Object(a.jsx)("div",{children:o.map((function(e,c){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(y.a,{className:(o=e.daDat,i=e.dangChon,o?n.daDat:i?n.dangChon:n.chuaDat),onClick:function(){t({type:"CHON_GHE",payload:e})},children:e.stt},c)});var o,i}))}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{variant:"containeid",color:"secondary",onClick:function(){var n=o.filter((function(e){return e.dangChon}));n=n.map((function(e){return{maGhe:e.maGhe,giaVe:e.giaVe}})),t(function(e,t){return function(){var n=Object(oe.a)(ce.a.mark((function n(a){var c,o;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=JSON.parse(localStorage.getItem("user")),n.next=4,j()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe",data:{maLichChieu:e,danhSachVe:t,taiKhoanNguoiDung:c.taiKhoan},headers:{Authorization:"Bearer ".concat(c.accessToken)}});case 4:200!==(o=n.sent).status&&201!==o.status||alert("thanh cong"),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,n))},children:"Dat ve"})})]})},le=n(196),he=n(197),ue=n(189),je=n(87),de=n.n(je),be=Object(m.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},activeRoute:{backgroundColor:e.palette.newColor}}}));function Oe(){var e=be();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(le.a,{position:"static",children:Object(a.jsxs)(he.a,{children:[Object(a.jsx)(ue.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(de.a,{})}),Object(a.jsx)(C.a,{variant:"h6",className:e.title,children:Object(a.jsx)(S.b,{activeClassName:e.activeRoute,exact:!0,to:"/",children:"Home"})}),Object(a.jsx)(C.a,{variant:"h6",className:e.title,children:Object(a.jsx)(S.b,{activeClassName:e.activeRoute,to:"/sign-in",children:"Login"})})]})})})}var me=function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(S.a,{children:[Object(a.jsx)(Oe,{}),Object(a.jsxs)(F.d,{children:[Object(a.jsx)(F.b,{path:"/",exact:!0,children:Object(a.jsx)(E,{})}),Object(a.jsx)(F.b,{path:"/sign-in",children:Object(a.jsx)(W,{})}),Object(a.jsx)(F.b,{path:"/movie-detail/:movieCode",children:Object(a.jsx)(ne,{})}),Object(a.jsx)(F.b,{path:"/booking/:maLichChieu",children:Object(a.jsx)(se,{})}),Object(a.jsx)(F.b,{path:"/home",children:Object(a.jsx)(F.a,{to:"/"})})]})]})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))},ve=n(35),ge={movieList:null,movieInfo:null},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_MOVIE_lIST_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{movieList:a});case"GET_MOVIE_DETAIL_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{movieInfo:a});default:return e}},xe={isLoading:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case"START_LOADING":return Object(D.a)(Object(D.a)({},e),{},{isLoading:!0});case"STOP_LOADING":return Object(D.a)(Object(D.a)({},e),{},{isLoading:!1});default:return e}},Ce=n(22),Se={danhSachGhe:[]};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_BOOKING_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{danhSachGhe:a.danhSachGhe});case"CHON_GHE":var c=e.danhSachGhe.findIndex((function(e){return e.maGhe===a.maGhe})),o=e.danhSachGhe[c],i=Object(D.a)(Object(D.a)({},o),{},{dangChon:!o.dangChon});e.danhSachGhe[c]=i;var r=Object(Ce.a)(e.danhSachGhe);return Object(D.a)(Object(D.a)({},e),{},{danhSachGhe:r});default:return e}},Te=Object(ve.c)({movie:fe,common:ye,booking:Le}),Ge=n(88),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d,_e=Object(ve.e)(Te,Ee(Object(ve.a)(Ge.a))),De=n(198),Ne=n(89),Ie=Object(Ne.a)({palette:{primary:{light:"#ea515a",main:"#e5101d",dark:"#fb000f"},newColor:"yellow"}});i.a.render(Object(a.jsx)(d.a,{store:_e,children:Object(a.jsx)(De.a,{theme:Ie,children:Object(a.jsx)(me,{})})}),document.getElementById("root")),pe()}},[[134,1,2]]]);
//# sourceMappingURL=main.7a315422.chunk.js.map